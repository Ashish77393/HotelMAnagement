{%load static%} {%include 'Header.html'%}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="{% static '' %}" />
    <title>Luxury Stay</title>
  </head>
  <body>
    <div class="container mt-4">
      <!-- Greeting + quick stats -->
      <div class="row align-items-center mb-4">
        <div class="col-md-8">
          <div class="p-4 bg-white rounded-4 shadow-sm hero-card">
            <p class="muted mb-0">
              Here's what's happening with your bookings and recommendations
              today.
            </p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="d-flex gap-2">
            <div class="p-3 bg-white rounded-3 shadow-sm text-center w-100">
              <div class="small muted">Hotels</div>
              <div class="h3 mt-1">{{ total_hotels }}</div>
            </div>
            <div class="p-3 bg-white rounded-3 shadow-sm text-center w-100">
              <div class="small muted">Bookings</div>
              <div class="h3 mt-1">{{ total_bookings }}</div>
            </div>
            <div class="p-3 bg-white rounded-3 shadow-sm text-center w-100">
              <div class="small muted">Avg Rating</div>
              <div class="h3 mt-1">{{ avg_rating }}/5</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Carousel (recommended stays) -->
      <div
        id="carouselExampleCaptions"
        class="carousel slide"
        data-bs-ride="carousel"
      >
        <div class="carousel-indicators">
          {% for c in carasoul %}
          <button
            type="button"
            data-bs-target="#carouselExampleCaptions"
            data-bs-slide-to="{{ forloop.counter0 }}"
            class="{% if forloop.first %}active{% endif %}"
            aria-current="{% if forloop.first %}true{% endif %}"
            aria-label="Slide {{ forloop.counter }}"
          ></button>
          {% endfor %}
        </div>

        <div class="carousel-inner">
          {% for c in carasoul %}
          <div class="carousel-item {% if forloop.first %}active{% endif %}">
            <img
              src="/media/{{ c.image }}"
              style="width: 100%; height: 300px"
              alt="..."
            />
            <div class="carousel-caption d-none d-md-block">
              <h5 style="font-size: 50px; color: rgb(254, 235, 22)">
                {{ c.heading }}
              </h5>
              <p style="font-size: 35px">{{ c.description }}</p>
            </div>
          </div>
          {% endfor %}
        </div>

        <button
          class="carousel-control-prev"
          type="button"
          data-bs-target="#carouselExampleCaptions"
          data-bs-slide="prev"
        >
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button
          class="carousel-control-next"
          type="button"
          data-bs-target="#carouselExampleCaptions"
          data-bs-slide="next"
        >
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    </div>

    <hr />

    <style>
      /* Hotel cards: clean, responsive grid using Bootstrap + small helper styles */
      .hotels-section {
        padding: 40px 20px;
        background: linear-gradient(180deg, #0f1724 0%, #0b1220 100%);
      }
      .hotels-section .section-header h2 {
        color: #fff;
        font-weight: 700;
        margin-bottom: 6px;
      }
      .hotels-section .section-header p {
        color: #cbd5e1;
        margin-bottom: 20px;
      }

      .hotel-card {
        border: 0;
        overflow: hidden;
        border-radius: 12px;
        transition: transform 0.25s ease, box-shadow 0.25s ease;
      }
      .hotel-card:hover {
        transform: translateY(-6px);
        box-shadow: 0 10px 30px rgba(2, 6, 23, 0.6);
      }
      .hotel-card .card-img-top {
        height: 220px;
        object-fit: cover;
        display: block;
      }

      .hotel-meta {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 10px;
        margin-bottom: 8px;
      }
      .hotel-meta .price {
        background: linear-gradient(90deg, #0ea5e9, #7c3aed);
        color: #fff;
        padding: 6px 10px;
        border-radius: 8px;
        font-weight: 700;
      }
      .hotel-meta .rating {
        font-weight: 700;
        color: #f6d365;
      }

      .hotel-desc {
        color: #5b6772;
        font-size: 14px;
        min-height: 52px;
      }
      .hotel-actions {
        display: flex;
        gap: 8px;
        margin-top: 10px;
      }
      .hotel-actions .btn {
        flex: 1;
      }

      @media (max-width: 576px) {
        .hotel-card .card-img-top {
          height: 160px;
        }
      }
    </style>

    <div class="hotels-section">
      <div class="container">
        <div class="section-header text-center">
          <h2>Top Picks for You</h2>
          <p>
            Best-value hotels and guest favorites — handpicked from our
            listings.
          </p>
        </div>

        <div
          class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4"
        >
          {% for h in hotel %}
          <div class="col">
            <div class="card hotel-card h-100 bg-white">
              <div class="position-relative">
                <img
                  src="/media/{{ h.image }}"
                  class="card-img-top"
                  alt="{{ h.header }}"
                />
                <div class="position-absolute" style="right: 10px; top: 10px">
                  <span class="badge bg-dark">⭐ {{ h.rating }}/5</span>
                </div>
                <div class="position-absolute" style="left: 10px; top: 10px">
                  <span class="badge price">₹ {{ h.price }}</span>
                </div>
              </div>
              <div class="card-body d-flex flex-column">
                <h5 class="card-title" title="{{ h.header }}">
                  {{ h.header|truncatechars:48 }}
                </h5>
                <div class="hotel-desc">{{ h.des|truncatechars:120 }}</div>
                <div class="hotel-actions mt-auto">
                  <a href="/BookNow" class="btn btn-primary btn-sm">Book Now</a>
                  <a href="/" class="btn btn-outline-secondary btn-sm">View</a>
                </div>
              </div>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
    </div>
    <!-- Suggested hotels and footer included via templates -->
  </body>
</html>
{%include 'Footer.html'%}
